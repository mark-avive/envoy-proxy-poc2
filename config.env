# Environment Configuration for Envoy Proxy POC
# This file is sourced by deployment scripts

# AWS Configuration
export AWS_PROFILE=avive-cfndev-k8s
export AWS_REGION=us-west-2

# EKS Configuration
export CLUSTER_NAME=envoy-poc
export NAMESPACE=default

# Docker Registry Configuration
export ECR_REGISTRY=$(aws sts get-caller-identity --query Account --output text).dkr.ecr.us-west-2.amazonaws.com
export ENVOY_IMAGE=$ECR_REGISTRY/cfndev-envoy-proxy-poc-envoy:latest

# Application Configuration  
export MAX_CONNECTIONS_PER_POD=2
export RATE_LIMIT_REQUESTS_PER_MINUTE=60

# Service Names
export BACKEND_SERVICE_NAME=envoy-poc-app-server-service
export REDIS_SERVICE_NAME=redis-atomic-service
export ENVOY_SERVICE_NAME=envoy-proxy-atomic-service

# Kubectl Configuration
export KUBECONFIG=/home/mark/.kube/config-cfndev-envoy-poc

echo "Configuration loaded:"
echo "  AWS Profile: $AWS_PROFILE"
echo "  AWS Region: $AWS_REGION" 
echo "  EKS Cluster: $CLUSTER_NAME"
echo "  Namespace: $NAMESPACE"
echo "  Envoy Image: $ENVOY_IMAGE"
